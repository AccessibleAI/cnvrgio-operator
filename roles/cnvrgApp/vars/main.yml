---
cnvrgApp:
  replicas: 1
  edition: "core"
  enabled: "true"
  image: ""
  port: 80
  cpu: 2
  memory: 4Gi
  svcName: "app"
  customAgentTag: "false"
  fixpg: "true"
  intercom: "true"
  nodePort: 30080
  sidekiqCpu: 2
  sidekiqMemory: 4Gi
  sidekiqReplicas: 2
  sidekiqSearchkickCpu: 1
  sidekiqSearchkickMemory: 1Gi
  sidekiqSearchkickReplicas: 1
  passengerMaxPoolSize: 20  # the calculation of max pool size based on this max_app_processes = (total_memory * 0.75) / 150 (memroy for each process in mb) = 20
  enableReadinessProbe: "true"
  readinessPeriodSeconds: 100
  readinessTimeoutSeconds: 60
  resourcesRequestEnabled: "true"
  sidekiqPrestopHook:
    enabled: "true"
    killTimeout: 60

seeder:
  image: "docker.io/cnvrg/cnvrg-boot:v0.24"
  seedCmd: "rails db:migrate && rails db:seed && rails libraries:update"

cnvrgAppUpgrade:
  state: "upgrade" # rollback | upgrade | inactive (should be set when upgrade/rollback is finished
  cacheDsName: "app-image-chache"
  cnvrgAppName: "cnvrg-app"
  image: ""
  cacheImage: "true"